ssh:
  root:
    # Open Data Services Co-operative
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC+rgZoWRzVmlQ0BsFnuuDySoz93aLnL4K/ngS+/jFOG07oalnadwk6haKbK68zzyqcpgC4EqHUweB7IG9NpSG/fI/K6GyIotXWCejFLjZO+D32mEI+jT66q4AHu8SNhLJYV4NSVafqISFZoGeZfZKGI1gISrz0GAKsnqQ1dGb7zWWiHo6SQtPf2awRhlNoCaah/WoGKduDEFhTeLeCnXEkwnETd+1WrnRWMZsYVEILX7rRM35/OlNVKv11wxdrOB9LwnEsJGwGnG85NEAMUmX+pEQSuRmXGXlAwFBCKQxENRL9Eb6eVQeGXjpg17/wTDbiOXvwbql3/CFcAr0/mQGFhCiWqIQ58B0P8w6EknonZAkasaGukw2NjU3/I10xmHBNgPRdvYxwvQn6P+/QOGCdm63QKIn2FhY3Fv15m3qD4HZ3VT1mA7JMv4SW5qyXcWIdgvGroht3Cg+Ae0u7a575PUiVv9Y4U/t8QOQdtd+I37J+hCJyvMUXbvxVF8e6rqQ68EgvMi+z9qp3LmBHfF4rQ50oTvN7e09ncqmRwEuOFv0jTCOwnmk9UIFFgSWx4Gcj1bZdv6rLFXvTJzodvW4tYhu0lDkF65AZxqpNYMTxJvc45WnUIqgVDThdMLqVtHMDWlkxtUhjyERyWA+2x+Mhk3JMZPwWeELvA/yVC3zNFw== David (ODSC)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDoKwR6h5C5P2gdzWLggZOnNKfrsi5jJCIPbA6bDm/rg7hWZ/H07NIaJtQ5dvqEw9w58bznOl/b7+3x9sEGF7Clp0kvuHECjtz3G9nlJ5NlUSJhNAcYVMLLwL/LN2Zj+kMaFH0inrbM+WngQGURYUYGjxv1XfUkHFKS4SlD2sdhNQbx4hVcUqkDq6X7AzfReXMeHLUinFTwwYaNgFV+nOQ242vVWnsL6HtTSTIuO7aPx/SSI5+jZqKCDK9oHFhXo4lgNB6JpVcaDcS8gV763jNqfQxfJUr3gm/GB8gcp0cfqf8Bd3ftXINh/zJA8L4FN6oJEeELKjF1ZY6Y8/k53cwEdzBbogJ3DrlWs0uaCu/EGypdA48eyPTx6j+bQ9JiobF3EADaVB/3NgfgpEa/o4tmu5dUcOLxsepr1ftUxh0Q1yx2ucqP3RSp2GBMCW1ln3c14iGWoRQPczXuvphLQnDvajNo7YwjlZCAvwn6j36WTbe0KNxWm/he1WeXyR1XzBuS5liWMfqKIjmBEeZgr67KIt8zx4yp960/U08tnlYx7PEM3I8xqmIF6mz8n+Kl3UAT+HAgkd+poD59dcTBo6f5A9+9oAA5V2z+BX6WI1Kuf6TtEiFND0izzNCs6/lmooOlgociid0V5fYqTGDRVt8SWLVIBggDOdjIR7y0jRXniw== Ben (ODSC)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC57kxFKNfdj/TO+V1cKVlJkbkT3rYg9W0D0r4z+NJfDFTkCPBip2LAjoEJyW/Ru/PDZc9lhrVCZ/sQ99GvRFtC8v2SQNQtJDk6dYACwTrhimJUQMt0y/dJ+Svib9m4TyK4wjQJzZMJNeMeY42Fl1Is9/uL5Bj3noPIg7jv6Z6RW/Oi8uoIAEatliBAfH+5v8SUxqbizkYyzUIcvQ6c2nATKlPw6Y7E6udqWEFOi+bxPsEe25N8gk7d26O7/4TDQXLW1vVakvC3MX7KN6/FVpHbmoiMhZb/niG/ue9Kvgx8YwQN0/wMQByjaudyUfzBOYMBpmPI74/7BvFGLnCQi+4L Ben (ODSC)
  kingfisher:
    # Open Contracting Partnership
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDJs4s1TkcqJg7RsjrpWib7UzHbUYIwnvr+8uK2r4wnZugoj4354jGTSlFlOGc5EQ4FkkNXIOUyOB0i1xxr8piC3VbapkEj/WfMSuElpGdWip3p/UonuNOAxheKna9SqdUvX+Yge/a/M5ElkBoQVZVng5n37e3mU70iveL4VqUzLqqXIY+lzcMlR3VBbuae1O+/T4ug2Teq2B3xL3uiuR+WYlGH9dZLapb+INiohtFImIBcVizdmRtKZRhKfAsh0h2mVp4mfJajz3LHcYkum1c0NvapgmxKIKyR8S2c6QB5jZjrldAFeHV/1mKF99KcmRf89JwkAnbbFT4+Zjks2g8P Camila (OCP)
    # Centro de Desarrollo Sostenible
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDa5MFqffmNueonDTyIjDIKhXLlNaQzXPh4m15s6px4Ok5jpmHbjkegikWpARNxhWxtfGagcQ0osUwhw9T+ZEywFY4yfg/QgjwoPJhwatYgjM/Bx4gYVBRc4CJW5odlrmESP4AjkEeMUfPWwskqBf/v07ElWEN14eQdRpeM854lX1L+TuClbx8G0M7V7zk2niVYxZ2+GvtQhae2xWOmR6LxzVMs3JVLm57XTQzg7Gco3Ly2FuTjbrfFErznxc46HJteo8mPZBW7uXYAsfRUo06ZeZMpPQ3gA4n9xAoOkuX65AmCRqTeSOAjsagEKRQfYOM3cHDwp0Z6td8UsIGlr7fHMPJJql3X5zI1E7sz+HVQPSKFYtCVf/gOH4/dW5VNFjqmX05aROvWscDFXJ35X2La6OGkX3rfWF9sCeBn9vS3W2VZyRcTotw03VEyzW5wxeGkH0BXXPl5EMzXBA98Ls8hx7EFlpkVWTiD1E20Xui7vJw4xXuTnPfwM+K37kgICFbtjwGo0klSoA3IQgaLUl/CHk3JE+LryqkidvvgFkYgWLKTGffLMFB3iMjJculHeR9ZousUiLemv1wwxnQLts3+CdGwBBHKa5kqQn+wndWIF3O8CuzM4QgUtE5pnqEzSHeht8guok2yTcZagFOsu1dOeK4ur3VIXZakjprnD9ElrQ== Andr√©s (CDS)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCmR2TF5GHnHz+8J/Iqu0mp58836id/JcpNWiN8mLMBT5lRqWFuCPzkZOoFOrl7LvJqw75DBijmOMRXaehvT1uA1IIE4ZLwZJTuVn73RyE+WLFB08gjN7JDAvkbYJe1KHbuSEXmHDqdIUDhe8DQBnxrG6y77En/Kj5j8elJlHi+4AMN3fyvhG9gGTOVmNJr1uKATRDna6SR5zFp7XlVa48gyCY/28c4XRXIgZwjs7w4+VmdDVkM641jhraxgr5kz749aSX/C21F91d2w8qfjnpOLDj722NV/eGVvja1GoDoIWY3JtG+FjmaZE+voKCxe9Ybb+CbIWBwGj7hwnk8SqinZMpz8aJ3LubOkKLMN0f8oOewI7In+Ozjl8tPWh8kyKfllxeNWzYMh8VGyufkS1DXDig92l8tRjaD8sCHCAvAcfTMT1DMrYRLPs0EvTLmJhjK5Hrb5GItbOQO30CFWfySl2nCorXA4INsSaRzNfWsojoaACfhzACMCF4GTGw6ofS1iT1fZelw2w9npvoj6Rgs02sabYO7vRg+vSsrb314+IovCgWU8ZhDTCyXXZlXUX6hEQy78Hzojo6gAU0v6n97wHErfLY+JvhJ3brQWmXow8X1TL9ejngWq6iFW/3/rfupX7xnPQoncAasBSf2QfitJS6zj69itF0Cmqn+ndW9wQ== Cecilia (CDS)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCneRyMW+YCyU6WvRu+4qqh0gTHkj733CPpPNzbXVHVG8WUATDUBbZZrY48v1B8lsY59/hIZvHU2WuKlwfUifaUnAAlUsBlhO26GB4oR9lqKQx2BTT6Oi2Jxtl1HTJCTT0QPWUB7oeWKpiOR2zFdqwZ2L9t6vXZ/5dHqlMqe+QrVzr+yh+AiNasEdUhSQATN3JagJodAnfDbRdBAaJShGQbC1KvfkiI8KChVPPpntZuEp8155P5xOgq7ItPZ+6hBzmh4PfuIdMoax5KuJqvGVpMlv8xt30Tqc/M5usiSFUGPMW+K3G5caRgEvMHrJMUuRdTE+RZyM5HjOU3PhxQ8tt56cp5rPAbX/61gaG0yaw5F69JZZVdcuz25xMvstZhcueWBw1Sdj/ilM8yE1tlJnAY2rgGMghDoGgonasH1TkwTTdray32gyB0wnDwV/EMj+NhljqwVj+rV/mUsoPsR7QgvyiX+Gz3i7DgSKHlEwOrrIUibh5PiznMEZhzHNOPdQzUUA4fSRLdUZSxtjVURcHsdxKs4csTgNfMFRM35MVUrPR2czDkMrgrBs+3dgAruznbHI7pYmwM/5kze27CmUppC+EgaLpx2b509jYjreejju/+nS9iRcHTAhzysn25lKLhNlPJ3sh4veAh+k8ZgDEQcrQH9lHdopUk7yEnrwI0yQ== Juan (CDS)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQD5I47WkhWI8w4GFuBooT+LM26f9A0JIT4yD9Ns2A/8j6oJ2geFSfqGIAplZV+jLmqawwIYzfij4REi47mAeSRQe95AELVaCTPebWa0VRJIOrAjfS85+Hl1feEa75UNhRNfuK8sV/obce1BRfA7gP3Cm/X2SjaOVVBjt7RiQuA9BK5+af88Q/Y41piYdvfT4uzixLeZwtx28yRt+bP/0LP/05ImsIRHMedWAXPhtS+wzPRtEkG+lZQN/22x/IzN8O3Y/65hsKyBixpTpUST81pB204bbx6OJ6QgGNkNpyER77vnVPxmKp9A8MO+4ySXw0+2rbNgdyqKJla0iqBNpPK8y1TR5vRMofCBB35y14a3Y33ubUmEtHuKhjZ4R+qKXvZj23hDuwTmuVagMbYZPiGpR/QMF+KLUSiOJUR8pBN85uHzDfjGLo6d6e02jKxV4/11RRfXd2E4nwpLrk5AFW0iR8e0TWwnf0IzKWiZNwPAiCQKmWm4eZAkRPnOUM2xYdk= Rodrigo (CDS)
    # Open Data Services Co-operative
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDOxr8E/tWTh/BijI9S+lerKiO/epDFZoeAYBa8uLrr0JUJwEsAmCoGvC2Xi3DNezuy/rVdDFoy3egHMOdkZ12q3kdt5xLxmbDAFrqk8yK8LhB1wQKvs9znqvKL3dTjjjvboXk9iMCCACwWDpV/TbQBwnXkvUIitN2FVnCRxsnLvzek0mjQ1bO6GgTH9qHQ/+a4dzZqxR02DgxbrDHVJYolo1Lxrie8Qappih2rfxj1mwNgh0YPFYnktG9nH8IKT1ny2jVxp9PmnDhTjSTPb4c7H79GVK7mDm574H5gAUdDYbXt3KgUyUC1DD2bpPagtCFM58vohSkldEsniT4UIGE3fYM3d/yxoiRvW5AcwIXWVvrptEnAt7XCIx9A+HWK8rPj50lfQSsWZZWL0m2PP66Pwh/HR/kb9vYtZ3043biv9tDLPLPKyKV4hUgOi6Z4ZU6tgVvdvx3Q3rleqgyAIhHZNCu1+FhrgIQsNoZ6kXQ7IUtbPO5t+RhPaxRZ98DvA5llybi7MASMyiUY7rBBhMcY9IcYKRxBfg+PjJYznzxNHhCWF6ua+v8hNte2rlnzG4HuBOnyYKq1EYmgbtI95wGA5w6MLWb5mRbTJQcjK3gQ+U3NCfBUW4NCpm5JdxnIoJ5Ck87PN7qNFyDskLrjoYDry9aQhpyn2zNOyN9UZb9HQw== Duncan (ODSC)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC2Wwx0g7yRyy0/gHeq2gVgcW/kSg+ACWWAAN69ryytfCrCe07sRnVEpbjJhfyYd+5Lagh6b1WcBe6Q1azWnWwvfPZT6SLehqLxwkeMzQmnf2uy5JT+ypMGUCns+v7tD9k4x8u3jk56BvHKuPdzx3jKeYkYrCzRNpuOwNfdDdHCTVCMkSpA3n5e7HD3L7nW30b4xHrR7qq23pYkwjo/W7Umog8JTIIhY9woBwpyi3FXHXk58tvKws1XJ4cXPF0ZLiBPBZhAK2WR/kMJaHlCZ04+mIjgIz0CODzeN4FjDWhLJBeLGnQUR/I+bO01QwK3UZ9buFJkUmBLHep5zoNBMvNqEbTGbdEnNsiCIypTNZr8+rncHODF9ncPkp3nylh5B4YrwsGz8qqtHnwaHd7Bu6q8Sl8BiAI5X34Z3mHBr9p87KDZ9l5GLWMJdUWUuctzSdpmMjdEgnbmaVjbJWqr6eohb5LMGaOgOISupop06jHwI1qJsjZ6RtVWMcZF8TPz4os= Matt (ODSC)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC4r9hXnhc2TQYzLGzmFczKEE6ybIhyYZNqT6vETNVXokqc1mDFvcMbinWeCSaWgYblHpipR1MJJGlfxPa3bCXEn+JX94h0r2wntWmOqsAdiEnK3NhjJLWg+m2TouYedhc0yW0uIlAEPu3q4rRjEYnJIWxuHZdgB6sl/VUDJfPhvu8XQERM8RTFiHW6S9RAZ7mZi9mlXqoBq/77aHhSuit0nNFc0fZpnTbdA1Zkdus4C/XtIyJQ4p7oVWJQKva5FcVlSlQOjI7t+lJ0brXthqCKkQ1GoUvVLIvTrXJXZP9cmuxYGgaSm1otRMtNvkKWIcyRn2zoYft1gPNXhA2d3vLsO22q+KK3yQHT+LEmSWo9nGA4+fmCxw8AgvN/EM7OOEhJck3jR5fiMZv47myDQQCZfbntKQmGBGHjJLxzTFErZTRQROXwAcliVrx+D5nbbfm/4FgFjXggeHRe9Dymvgz6tBtzPwdYuAUN/u83AJgCwvobxyVSyZ6TKM6LPf5J3RWukOMtcV8wcTv+fZ26b8b+kHg7CjNHoMmubJqIKmVO6CpkLu2m2KSAoVNP0ijds+43hkeqVwlGizSO7rz1vEM0F98wufuAzeUO5ANuB/YH9CVNU0Jqp4i4pF3x+OHbiCLr5SZ1BTa5AIB5r4VcvWgx4JlllB3WScYG5zEOzpDsWw== Neelima (ODSC)
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC8VRLRwHk2qjF/68XQcxabz6whVbkZQKG4mP5KUUnMPWdC1/xF8cgbWaQc34s/9yaoeV03bzbQJU7DCvOZwIWnUnLbPvlAuzsHVbzYPooYbvIGg2CK9LK6AuWli7bCgTJ31FxNbt0yRmF1dEsWLr2M2XiL/rRuF25kA+XyWsRKSmcuggUlY5H+kC1v8TcNOYJFw5SKy7pq6Wa5MrErbGzyWsm2Rq0NhYMQecvTdcN5d7/wsZUXOMwmMddsf1C3gtHCawIR7h8787g+AywC2ggEvR47Mv4Ed1je8Vc1En1tFpznmE93gZ154am/eDFkK3oRWQFPqyBZg0azk+570WiJnHPCe9qJ74c4bygH+B3bQ0XQKiEJOmEyK1lIW8ze/0DrknbBIRY14836eepbu7Xa/JVK+HOZk51tT4Zo2Zb0xRo5BwE3RfRwMAHNEA3/L3bDD4lpn3y379ryW5MstVU2yy4mZEep+RQOj0kRFjiYV5zzmOQbBUKeQt4FFjgXZQdVTQAqbXGB9CAnpJ69L78fgQwD0rSmJUsK+2kCPClAhtCQx50mXelhUJnIwsP/LyqtQAu73M9PhPpnrHRz1DNCobVO31rqLM0kag9GjNYAtizn1Jviozs03k0FK40vMU1pGSkiuCYl3hyv+GtU5wbSUjOoH8uD3MaJphZJzOUS/w== Rachel (ODSC)
    # Datlab
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC6cj4TrLbDLJDY19PRSYd6+zFPaKCL7t4Ek9cO8OsYnVfG65YVT7VWQc4CfPFkxiEP1WBocj0T+03ihK1J8AmEY4k4F1Ngj83+Z2jdA6kqHhBRzf++x77l7lM2Ka6ngblrcn+AcYTJGLp+9Nd1L2XLqjUcQjaZlWokmP73XYog69C0dGN6a4FBofPm7c6NCrJJt5nF4LBXCVIF7q3Un9k3LojYnD3RAq3ZhUZVBtl5wdcp8qZ4BQfU4ns+q6baBmjRJwAEXnB4IOm29mNUMCdjYr29eTmKats7NYneO9/UGbWd5pKTzHFFsS9a+hcyNlV8LYNE6JbMAN4FjadjjVThEQxPHKAD92AIb0o7dDcSJFGR0V91qpqhfM8LIELzImqOcYYlQu5EriWFIq0eb8gwZOMXO0pm+/MfzXcm2kugET5aQHUObW8sImEvxfLR7huU6tek52mH2gXMijIQf+DGtnq/X3aoZ8MDpDryoXrz76/u0YgXcDmakRHqZXsYSpRyq19eBFtZN+yJm8t+NSZ3z6YsqvadmZ+DqPrDAPXj/7d2A+bhNl5CvU/OuJJfaTjoQRd8thdfftYfTdDuI5kksztYNJMA4JiobrAZkt/I2hKRXdlpQYbNrCaES3FV8u987mrjmLz0Tx06y6cAuIII/cyR11ziBl+iGAOwnbjTNQ== Datlab

vm:
  nr_hugepages: 16545

prometheus:
  node_exporter:
    smartmon: True

rsyslog:
  conf:
    90-kingfisher.conf: kingfisher-process.conf
    91-kingfisher-views.conf: kingfisher-summarize.conf

logrotate:
  conf:
    kingfisher.conf: kingfisher-process
    kingfisher-views.conf: kingfisher-summarize

apache:
  public_access: True
  sites:
    ocdskingfisherscrape:
      configuration: proxy
      servername: collect.kingfisher.open-contracting.org
      context:
        documentroot: /home/ocdskfs/scrapyd
        proxypass: http://localhost:6800/
        authname: Kingfisher Scrapyd

postgres:
  # If the replica becomes unavailable, we can temporarily enable public access.
  # public_access: True
  version: 11
  configuration: kingfisher-process1
  storage: ssd
  type: oltp
  replica_ipv4:
    - 148.251.183.230
  replica_ipv6:
    - 2a01:4f8:211:de::2
  backup:
    configuration: kingfisher-process1
    process_max: 8
    cron: |
        MAILTO=root
        # Daily incremental backup
        15 05 * * 0-2,4-6 postgres pgbackrest backup --stanza=kingfisher
        # Weekly full backup
        15 05 * * 3 postgres pgbackrest backup --stanza=kingfisher --type=full

kingfisher_collect:
  user: ocdskfs
  autoremove: True
  summarystats: True
  env:
    KINGFISHER_API_URI: https://process.kingfisher.open-contracting.org
    KINGFISHER_API_LOCAL_DIRECTORY: /home/ocdskfs/scrapyd/data/

python_apps:
  kingfisher_collect:
    user: collect
    git:
      url: https://github.com/open-contracting/kingfisher-collect.git
      branch: main
      target: ocdskingfishercollect
  kingfisher_process:
    user: ocdskfp
    git:
      url: https://github.com/open-contracting/kingfisher-process.git
      branch: main
      target: ocdskingfisherprocess
    config:
      ocdskingfisher-process/logging.json: salt://kingfisher/process/files/logging.json
      ocdskingfisher-process/config.ini: salt://kingfisher/process/files/config.ini
    apache:
      configuration: kingfisher-process
      servername: process.kingfisher.open-contracting.org
    uwsgi:
      configuration: kingfisher-process
      port: 5001
      limit-as: 2048 # https://github.com/open-contracting/kingfisher-collect/issues/154
      workers: 200
      cheaper: 10
      cheaper-overload: 30
      cheaper-busyness-multiplier: 60 # * cheaper-overload = 30mins before stopping workers
  kingfisher_summarize:
    user: ocdskfp
    git:
      url: https://github.com/open-contracting/kingfisher-summarize.git
      branch: main
      target: ocdskingfisherviews
    config:
      kingfisher-summarize/logging.json: salt://kingfisher/summarize/files/logging.json
